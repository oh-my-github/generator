{"version":3,"sources":["generator/src/command.js"],"names":[],"mappings":"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","file":"generator/src/command.js","sourcesContent":["/// <reference path=\"../../typings/node/node.d.ts\" />\n/// <reference path=\"../../typings/lodash/lodash.d.ts\" />\n/// <reference path=\"../../typings/fs-extra/fs-extra.d.ts\" />\n/// <reference path=\"../../typings/commander/commander.d.ts\" />\n/// <reference path=\"../../typings/circular-json/circular-json.d.ts\" />\n\"use strict\";\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, Promise, generator) {\n    return new Promise(function (resolve, reject) {\n        generator = generator.call(thisArg, _arguments);\n        function cast(value) { return value instanceof Promise && value.constructor === Promise ? value : new Promise(function (resolve) { resolve(value); }); }\n        function onfulfill(value) { try { step(\"next\", value); } catch (e) { reject(e); } }\n        function onreject(value) { try { step(\"throw\", value); } catch (e) { reject(e); } }\n        function step(verb, value) {\n            var result = generator[verb](value);\n            result.done ? resolve(result.value) : cast(result.value).then(onfulfill, onreject);\n        }\n        step(\"next\", void 0);\n    });\n};\nimport * as CircularJSON from \"circular-json\";\nlet path = require(\"path\");\nlet browserSync = require(\"browser-sync\");\nconst bs = browserSync.create();\nimport { BS_OPTION } from \"./file_util\";\nimport { publish } from \"./nodegit_util\";\nimport { FileUtil, GENERATOR_VERSION, FILE_PATH_PROFILE_TEMPLATE_JSON } from \"./file_util\";\nimport { deserialize, deserializeAs, Deserializable } from \"./serialize\";\nimport { Profile, createProfile } from \"./profile\";\nimport { Util, Log } from \"./util\";\nexport class OptionSetting {\n    constructor(specifiers, description) {\n        this.specifiers = specifiers;\n        this.description = description;\n    }\n}\nexport class GenerateOptions {\n}\nGenerateOptions.GENERATE_OPTION_SPECIFIER_IGNORE_REPOS = \"-i, --ignore [repository]\";\nGenerateOptions.GENERATE_OPTION_IGNORE_REPOS = new OptionSetting(GenerateOptions.GENERATE_OPTION_SPECIFIER_IGNORE_REPOS, \"ignore specified repositories\");\nexport class CommandSetting {\n    constructor(specifiers, description, action, alias) {\n        this.specifiers = specifiers;\n        this.description = description;\n        this.action = action;\n        this.alias = alias;\n    }\n}\nCommandSetting.COMMAND_INIT = new CommandSetting(`init <user> <repo>`, \"initialize `oh-my-github.json`\", function (user, repo) {\n    try {\n        console.log(\"\\n\");\n        Log.info(\"Initializing `oh-my-github.json`\");\n        console.log(\"\\n\");\n        let profPath = FileUtil.getProfilePath();\n        let prof = Profile.deserialize(Profile, FileUtil.readFileIfExist(FILE_PATH_PROFILE_TEMPLATE_JSON));\n        prof._$meta.github_repository = repo;\n        prof._$meta.github_user = user;\n        FileUtil.writeFileIfNotExist(profPath, prof);\n        Util.exitProcess();\n    }\n    catch (error) {\n        Util.reportErrorAndExit(error);\n    }\n});\nCommandSetting.COMMAND_GENERATE = new CommandSetting(`generate <token>`, \"fill `oh-my-github.json` using github API\", function (token, options) {\n    console.log(\"\\n\");\n    Log.info(\"Collecting Github Info...\");\n    let profPath = null;\n    let prevProf = null;\n    try {\n        profPath = FileUtil.getProfilePath();\n        prevProf = FileUtil.readFileIfExist(profPath);\n    }\n    catch (error) {\n        Util.reportErrorAndExit(error);\n    }\n    createProfile(token, prevProf, options.ignore)\n        .then(currentProf => {\n        FileUtil.overwriteFile(profPath, currentProf);\n        Log.info(\"`oh-my-github.json` was created\");\n        console.log(\"\\n\");\n        Util.exitProcess();\n    })\n        .catch(error => { Util.reportErrorAndExit(error); });\n});\nCommandSetting.COMMAND_PREVIEW = new CommandSetting(`preview`, \"preview your github profile\", () => {\n    /** assert if a profile json exists */\n    try {\n        FileUtil.readFileIfExist(FileUtil.getProfilePath());\n        bs.init(BS_OPTION);\n    }\n    catch (error) {\n        Util.reportErrorAndExit(error);\n    }\n});\nCommandSetting.COMMAND_PUBLISH = new CommandSetting(`publish`, \"publish gh-pages using the generated profile\", () => {\n    try {\n        let profPath = FileUtil.getProfilePath();\n        let profile = FileUtil.readFileIfExist(profPath);\n        let user = profile._$meta.github_user;\n        let repo = profile._$meta.github_repository;\n        if (!user || user === \"\")\n            Util.reportMessageAndExit(`invalid user name \\`${user}\\``);\n        if (!repo || repo === \"\")\n            Util.reportMessageAndExit(`invalid repo name \\`${repo}\\``);\n        publish(user, repo)\n            .then(() => Util.exitProcess())\n            .catch(error => console.log(error));\n    }\n    catch (error) {\n        Util.reportErrorAndExit(error);\n    }\n});\nexport class ParsedOption {\n}\n__decorate([\n    deserialize\n], ParsedOption.prototype, \"flags\", void 0);\n__decorate([\n    deserialize\n], ParsedOption.prototype, \"required\", void 0);\n__decorate([\n    deserialize\n], ParsedOption.prototype, \"optional\", void 0);\n__decorate([\n    deserialize\n], ParsedOption.prototype, \"bool\", void 0);\n__decorate([\n    deserialize\n], ParsedOption.prototype, \"short\", void 0);\n__decorate([\n    deserialize\n], ParsedOption.prototype, \"long\", void 0);\n__decorate([\n    deserialize\n], ParsedOption.prototype, \"description\", void 0);\nexport class ParsedCommand extends Deserializable {\n}\n__decorate([\n    deserializeAs(\"_name\")\n], ParsedCommand.prototype, \"name\", void 0);\n__decorate([\n    deserializeAs(\"_description\")\n], ParsedCommand.prototype, \"description\", void 0);\n__decorate([\n    deserializeAs(ParsedCommand)\n], ParsedCommand.prototype, \"commands\", void 0);\n__decorate([\n    deserializeAs(ParsedOption)\n], ParsedCommand.prototype, \"options\", void 0);\nexport class CommandFactory {\n    static create(argv) {\n        let parser = require(\"commander\");\n        const PROGRAM_NAME = \"omg\";\n        process.title = PROGRAM_NAME;\n        parser._name = PROGRAM_NAME;\n        parser.version(GENERATOR_VERSION);\n        parser\n            .command(CommandSetting.COMMAND_INIT.specifiers)\n            .description(CommandSetting.COMMAND_INIT.description)\n            .action(CommandSetting.COMMAND_INIT.action);\n        parser\n            .command(CommandSetting.COMMAND_GENERATE.specifiers)\n            .description(CommandSetting.COMMAND_GENERATE.description)\n            .option(GenerateOptions.GENERATE_OPTION_IGNORE_REPOS.specifiers, GenerateOptions.GENERATE_OPTION_IGNORE_REPOS.description, (val, memo) => { memo.push(val); return memo; }, [])\n            .action(CommandSetting.COMMAND_GENERATE.action);\n        parser\n            .command(CommandSetting.COMMAND_PREVIEW.specifiers)\n            .description(CommandSetting.COMMAND_PREVIEW.description)\n            .action(CommandSetting.COMMAND_PREVIEW.action);\n        parser\n            .command(CommandSetting.COMMAND_PUBLISH.specifiers)\n            .description(CommandSetting.COMMAND_PUBLISH.description)\n            .action(CommandSetting.COMMAND_PUBLISH.action);\n        parser\n            .on(\"--help\", () => {\n            console.log(\"  Examples:\");\n            console.log(\"\");\n            console.log(\"    $ omg init 1ambda oh-my-github\");\n            console.log(\"    $ omg generate 1b94910adb394014939fal1bfd193bfd762c4191\");\n            console.log(\"    $ omg preview\");\n            console.log(\"    $ omg publish\");\n            console.log(\"\");\n        });\n        parser\n            .command(\"*\")\n            .action((command) => {\n            console.log(\"\");\n            Util.reportMessageAndExit(`unknown command: ${command}\\n`);\n        });\n        /** use circular-json to avoid cyclic references */\n        let serialized = CircularJSON.stringify(parser.parse(argv));\n        let circularDeserialized = CircularJSON.parse(serialized);\n        let deserialized = ParsedCommand.deserialize(ParsedCommand, circularDeserialized);\n        return deserialized;\n    }\n}\n"],"sourceRoot":"/source/"}