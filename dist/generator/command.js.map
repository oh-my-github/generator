{"version":3,"sources":["generator/src/command.js"],"names":[],"mappings":"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","file":"generator/src/command.js","sourcesContent":["/// <reference path=\"../../typings/node/node.d.ts\" />\n/// <reference path=\"../../typings/lodash/lodash.d.ts\" />\n/// <reference path=\"../../typings/fs-extra/fs-extra.d.ts\" />\n/// <reference path=\"../../typings/commander/commander.d.ts\" />\n/// <reference path=\"../../typings/circular-json/circular-json.d.ts\" />\n\"use strict\";\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nconst CircularJSON = require(\"circular-json\");\nlet path = require(\"path\");\nlet browserSync = require(\"browser-sync\");\nconst bs = browserSync.create();\nconst file_util_1 = require(\"./file_util\");\nconst nodegit_util_1 = require(\"./nodegit_util\");\nconst file_util_2 = require(\"./file_util\");\nconst serialize_1 = require(\"./serialize\");\nconst profile_1 = require(\"./profile\");\nconst util_1 = require(\"./util\");\nclass OptionSetting {\n    constructor(specifiers, description) {\n        this.specifiers = specifiers;\n        this.description = description;\n    }\n}\nexports.OptionSetting = OptionSetting;\nclass GenerateOptions {\n}\nGenerateOptions.GENERATE_OPTION_SPECIFIER_IGNORE_REPOS = \"-i, --ignore [repository]\";\nGenerateOptions.GENERATE_OPTION_IGNORE_REPOS = new OptionSetting(GenerateOptions.GENERATE_OPTION_SPECIFIER_IGNORE_REPOS, \"ignore specified repositories\");\nexports.GenerateOptions = GenerateOptions;\nclass CommandSetting {\n    constructor(specifiers, description, action, alias) {\n        this.specifiers = specifiers;\n        this.description = description;\n        this.action = action;\n        this.alias = alias;\n    }\n}\nCommandSetting.COMMAND_INIT = new CommandSetting(`init <user> <repo>`, \"initialize `oh-my-github.json`\", function (user, repo) {\n    try {\n        console.log(\"\\n\");\n        util_1.Log.info(\"Initializing `oh-my-github.json`\");\n        console.log(\"\\n\");\n        let profPath = file_util_2.FileUtil.getProfilePath();\n        let prof = profile_1.Profile.deserialize(profile_1.Profile, file_util_2.FileUtil.readFileIfExist(file_util_2.FILE_PATH_PROFILE_TEMPLATE_JSON));\n        prof._$meta.github_repository = repo;\n        prof._$meta.github_user = user;\n        file_util_2.FileUtil.writeFileIfNotExist(profPath, prof);\n        util_1.Util.exitProcess();\n    }\n    catch (error) {\n        util_1.Util.reportErrorAndExit(error);\n    }\n});\nCommandSetting.COMMAND_GENERATE = new CommandSetting(`generate <token>`, \"fill `oh-my-github.json` using github API\", function (token, options) {\n    console.log(\"\\n\");\n    util_1.Log.info(\"Collecting Github Info...\");\n    let profPath = null;\n    let prevProf = null;\n    try {\n        profPath = file_util_2.FileUtil.getProfilePath();\n        prevProf = file_util_2.FileUtil.readFileIfExist(profPath);\n    }\n    catch (error) {\n        util_1.Util.reportErrorAndExit(error);\n    }\n    profile_1.createProfile(token, prevProf, options.ignore)\n        .then(currentProf => {\n        file_util_2.FileUtil.overwriteFile(profPath, currentProf);\n        console.log(\"\\n\");\n        util_1.Log.info(\"`oh-my-github.json` was created\");\n        console.log(\"\\n\");\n        util_1.Util.exitProcess();\n    })\n        .catch(error => { util_1.Util.reportErrorAndExit(error); });\n});\nCommandSetting.COMMAND_PREVIEW = new CommandSetting(`preview`, \"preview your github profile\", () => {\n    /** assert if a profile json exists */\n    try {\n        file_util_2.FileUtil.readFileIfExist(file_util_2.FileUtil.getProfilePath());\n        bs.init(file_util_1.BS_OPTION);\n    }\n    catch (error) {\n        util_1.Util.reportErrorAndExit(error);\n    }\n});\nCommandSetting.COMMAND_PUBLISH = new CommandSetting(`publish`, \"publish gh-pages using the generated profile\", () => {\n    try {\n        let profPath = file_util_2.FileUtil.getProfilePath();\n        let profile = file_util_2.FileUtil.readFileIfExist(profPath);\n        let user = profile._$meta.github_user;\n        let repo = profile._$meta.github_repository;\n        if (!user || user === \"\")\n            util_1.Util.reportMessageAndExit(`invalid user name \\`${user}\\``);\n        if (!repo || repo === \"\")\n            util_1.Util.reportMessageAndExit(`invalid repo name \\`${repo}\\``);\n        nodegit_util_1.publish(user, repo)\n            .then(() => util_1.Util.exitProcess())\n            .catch(error => console.log(error));\n    }\n    catch (error) {\n        util_1.Util.reportErrorAndExit(error);\n    }\n});\nexports.CommandSetting = CommandSetting;\nclass ParsedOption {\n}\n__decorate([\n    serialize_1.deserialize\n], ParsedOption.prototype, \"flags\", void 0);\n__decorate([\n    serialize_1.deserialize\n], ParsedOption.prototype, \"required\", void 0);\n__decorate([\n    serialize_1.deserialize\n], ParsedOption.prototype, \"optional\", void 0);\n__decorate([\n    serialize_1.deserialize\n], ParsedOption.prototype, \"bool\", void 0);\n__decorate([\n    serialize_1.deserialize\n], ParsedOption.prototype, \"short\", void 0);\n__decorate([\n    serialize_1.deserialize\n], ParsedOption.prototype, \"long\", void 0);\n__decorate([\n    serialize_1.deserialize\n], ParsedOption.prototype, \"description\", void 0);\nexports.ParsedOption = ParsedOption;\nclass ParsedCommand extends serialize_1.Deserializable {\n}\n__decorate([\n    serialize_1.deserializeAs(\"_name\")\n], ParsedCommand.prototype, \"name\", void 0);\n__decorate([\n    serialize_1.deserializeAs(\"_description\")\n], ParsedCommand.prototype, \"description\", void 0);\n__decorate([\n    serialize_1.deserializeAs(ParsedCommand)\n], ParsedCommand.prototype, \"commands\", void 0);\n__decorate([\n    serialize_1.deserializeAs(ParsedOption)\n], ParsedCommand.prototype, \"options\", void 0);\nexports.ParsedCommand = ParsedCommand;\nclass CommandFactory {\n    static create(argv) {\n        let parser = require(\"commander\");\n        const PROGRAM_NAME = \"omg\";\n        process.title = PROGRAM_NAME;\n        parser._name = PROGRAM_NAME;\n        parser.version(file_util_2.GENERATOR_VERSION);\n        parser\n            .command(CommandSetting.COMMAND_INIT.specifiers)\n            .description(CommandSetting.COMMAND_INIT.description)\n            .action(CommandSetting.COMMAND_INIT.action);\n        parser\n            .command(CommandSetting.COMMAND_GENERATE.specifiers)\n            .description(CommandSetting.COMMAND_GENERATE.description)\n            .option(GenerateOptions.GENERATE_OPTION_IGNORE_REPOS.specifiers, GenerateOptions.GENERATE_OPTION_IGNORE_REPOS.description, (val, memo) => { memo.push(val); return memo; }, [])\n            .action(CommandSetting.COMMAND_GENERATE.action);\n        parser\n            .command(CommandSetting.COMMAND_PREVIEW.specifiers)\n            .description(CommandSetting.COMMAND_PREVIEW.description)\n            .action(CommandSetting.COMMAND_PREVIEW.action);\n        parser\n            .command(CommandSetting.COMMAND_PUBLISH.specifiers)\n            .description(CommandSetting.COMMAND_PUBLISH.description)\n            .action(CommandSetting.COMMAND_PUBLISH.action);\n        parser\n            .on(\"--help\", () => {\n            console.log(\"  Examples:\");\n            console.log(\"\");\n            console.log(\"    $ omg init 1ambda oh-my-github\");\n            console.log(\"    $ omg generate 1b94910adb394014939fal1bfd193bfd762c4191\");\n            console.log(\"    $ omg preview\");\n            console.log(\"    $ omg publish\");\n            console.log(\"\");\n        });\n        parser\n            .command(\"*\")\n            .action((command) => {\n            console.log(\"\");\n            util_1.Util.reportMessageAndExit(`unknown command: ${command}\\n`);\n        });\n        /** use circular-json to avoid cyclic references */\n        let serialized = CircularJSON.stringify(parser.parse(argv));\n        let circularDeserialized = CircularJSON.parse(serialized);\n        let deserialized = ParsedCommand.deserialize(ParsedCommand, circularDeserialized);\n        return deserialized;\n    }\n}\nexports.CommandFactory = CommandFactory;\n"],"sourceRoot":"/source/"}